---
title: "Introduction to Tidyverse"
author: "Claire Liow"
institute: "University of Tokyo"
date: "5/24/2022"
output: 
  beamer_presentation:
    slide_level: 2
    toc: true
    theme: "Madrid"
    colortheme: "beaver"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
options(width = 100)
library(tidyverse)
library(knitr)
library(cowplot)
```

# What is `Tidyverse`?

## What is `R`?
A program language!
```{r fig.show="hold", out.width="80%", fig.align='center'}
ggdraw() + 
  draw_image("figure/R_as_a_language.png") 
```
*Source: RStudio*

\newpage
## Then, what is `Tidyverse`?
```{r fig.show="hold", out.width="30%", fig.align='center'}
ggdraw() + 
  draw_image("figure/tidyverse_logo.png") 
```
- A collection of R packages 
- Support natural workflow of data analysis
- Data import, tidying, manipulation, visualization, programming

\newpage

## Load tidyverse
```{r, eval=FALSE, echo=TRUE}
#install.packages(tidyverse)
library("tidyverse")
```

# Base R versus tidyverse syntax
## Example

```{r echo=TRUE}
UNpop <- read.csv("data/UNpop.csv")
UNpop
```

Let's calculate the \% of increase from 1950!

\newpage

## Base R syntax
```{r echo=TRUE}
UNpop_base <- UNpop
# calculate the ratio compared to 1950
UNpop_base$vs_1950 <- 
  UNpop_base$world.pop / UNpop_base$world.pop[1] 
# convert to percentage increase and round
UNpop_base$percent_increase <- 
  round((UNpop_base$vs_1950 - 1) * 100, 1)
UNpop_base
```

\newpage

## tidyverse syntax
```{r, echo=TRUE}
UNpop_tidy <- UNpop %>% 
          # calculate the ratio compared to 1950
  mutate(vs_1950 = world.pop / first(world.pop),
          # convert to percentage increase and round
         percent_increase = round(100 * (vs_1950 - 1), 1)
         ) 
UNpop_tidy
```

\newpage

# Summary
## Summary
###Differences between Base R/tidyverse?
- Base R: Lots of $, [[]]
- Tidyverse: %>% (Forward pipe operator)

###When to use Base R/tidyverse?
- Combination of both


